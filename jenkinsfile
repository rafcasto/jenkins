pipeline {
    agent any

    stages {

        stage('Code coverage') {
            steps {
                sh './mvnw jacoco:report'
                publishHTML(target:[
                    reportDir: 'build/reports/jacoco/test/html',
                    reportFiles: 'index.html',
                    reportName: 'JaCoCo Report'

                ])
                sh './mvnw clean verify'
            }
        }


    }
}